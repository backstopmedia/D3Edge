 <pre><code style="display: block; padding: 0.5em; background-color: #f4f4f4; font-size: 0.75em; color: black;"><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">001:</span><span class="comment" style="color: #777;">//&nbsp;Typical&nbsp;D3&nbsp;example&nbsp;https://gist.github.com/mbostock/3885304</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">002:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;margin&nbsp;=&nbsp;{top:&nbsp;<span class="number" style="color: #800;">20</span>,&nbsp;right:&nbsp;<span class="number" style="color: #800;">20</span>,&nbsp;bottom:&nbsp;<span class="number" style="color: #800;">30</span>,&nbsp;left:&nbsp;<span class="number" style="color: #800;">40</span>},<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">003:</span>&nbsp;&nbsp;&nbsp;&nbsp;width&nbsp;=&nbsp;<span class="number" style="color: #800;">960</span>&nbsp;-&nbsp;margin.left&nbsp;-&nbsp;margin.right,<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">004:</span>&nbsp;&nbsp;&nbsp;&nbsp;height&nbsp;=&nbsp;<span class="number" style="color: #800;">500</span>&nbsp;-&nbsp;margin.top&nbsp;-&nbsp;margin.bottom;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">005:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">006:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;formatPercent&nbsp;=&nbsp;d3.format(<span class="string" style="color: #050;">".0%"</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">007:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">008:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;x&nbsp;=&nbsp;d3.scale.ordinal()<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">009:</span>&nbsp;&nbsp;&nbsp;&nbsp;.rangeRoundBands([<span class="number" style="color: #800;">0</span>,&nbsp;width],&nbsp;<span class="number" style="color: #800;">0.1</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">010:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">011:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;y&nbsp;=&nbsp;d3.scale.linear()<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">012:</span>&nbsp;&nbsp;&nbsp;&nbsp;.range([height,&nbsp;<span class="number" style="color: #800;">0</span>]);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">013:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">014:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;xAxis&nbsp;=&nbsp;d3.svg.axis()<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">015:</span>&nbsp;&nbsp;&nbsp;&nbsp;.scale(x)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">016:</span>&nbsp;&nbsp;&nbsp;&nbsp;.orient(<span class="string" style="color: #050;">"bottom"</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">017:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">018:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;yAxis&nbsp;=&nbsp;d3.svg.axis()<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">019:</span>&nbsp;&nbsp;&nbsp;&nbsp;.scale(y)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">020:</span>&nbsp;&nbsp;&nbsp;&nbsp;.orient(<span class="string" style="color: #050;">"left"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">021:</span>&nbsp;&nbsp;&nbsp;&nbsp;.tickFormat(formatPercent);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">022:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">023:</span><span class="keyword" style="font-weight: bold; color: navy;">var</span>&nbsp;svg&nbsp;=&nbsp;d3.select(<span class="string" style="color: #050;">"#figure"</span>).append(<span class="string" style="color: #050;">"svg"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">024:</span>&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"width"</span>,&nbsp;width&nbsp;+&nbsp;margin.left&nbsp;+&nbsp;margin.right)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">025:</span>&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"height"</span>,&nbsp;height&nbsp;+&nbsp;margin.top&nbsp;+&nbsp;margin.bottom)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">026:</span>&nbsp;&nbsp;&nbsp;&nbsp;.append(<span class="string" style="color: #050;">"g"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">027:</span>&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"transform"</span>,&nbsp;<span class="string" style="color: #050;">"translate("</span>&nbsp;+&nbsp;margin.left&nbsp;+&nbsp;<span class="string" style="color: #050;">","</span>&nbsp;+&nbsp;margin.top&nbsp;+&nbsp;<span class="string" style="color: #050;">")"</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">028:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">029:</span>d3.tsv(<span class="string" style="color: #050;">"../../../data/data.tsv"</span>,&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(error,&nbsp;data)&nbsp;{<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">030:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">031:</span>&nbsp;&nbsp;&nbsp;&nbsp;data.forEach(<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d)&nbsp;{<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">032:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.frequency&nbsp;=&nbsp;+d.frequency;<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">033:</span>&nbsp;&nbsp;&nbsp;&nbsp;});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">034:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">035:</span>&nbsp;&nbsp;&nbsp;&nbsp;x.domain(data.map(<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;d.letter;&nbsp;}));<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">036:</span>&nbsp;&nbsp;&nbsp;&nbsp;y.domain([<span class="number" style="color: #800;">0</span>,&nbsp;d3.max(data,&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;d.frequency;&nbsp;})]);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">037:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">038:</span>&nbsp;&nbsp;&nbsp;&nbsp;svg.append(<span class="string" style="color: #050;">"g"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">039:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"class"</span>,&nbsp;<span class="string" style="color: #050;">"x&nbsp;axis"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">040:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"transform"</span>,&nbsp;<span class="string" style="color: #050;">"translate(0,"</span>&nbsp;+&nbsp;height&nbsp;+&nbsp;<span class="string" style="color: #050;">")"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">041:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.call(xAxis);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">042:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">043:</span>&nbsp;&nbsp;&nbsp;&nbsp;svg.append(<span class="string" style="color: #050;">"g"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">044:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"class"</span>,&nbsp;<span class="string" style="color: #050;">"y&nbsp;axis"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">045:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.call(yAxis)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">046:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.append(<span class="string" style="color: #050;">"text"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">047:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"transform"</span>,&nbsp;<span class="string" style="color: #050;">"rotate(-90)"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">048:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"y"</span>,&nbsp;<span class="number" style="color: #800;">6</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">049:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"dy"</span>,&nbsp;<span class="string" style="color: #050;">".71em"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">050:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.style(<span class="string" style="color: #050;">"text-anchor"</span>,&nbsp;<span class="string" style="color: #050;">"end"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">051:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.text(<span class="string" style="color: #050;">"Frequency"</span>);<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">052:</span><br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">053:</span>&nbsp;&nbsp;&nbsp;&nbsp;svg.selectAll(<span class="string" style="color: #050;">".bar"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">054:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.data(data)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">055:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.enter().append(<span class="string" style="color: #050;">"rect"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">056:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"class"</span>,&nbsp;<span class="string" style="color: #050;">"bar"</span>)<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">057:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"x"</span>,&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;x(d.letter);&nbsp;})<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">058:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"width"</span>,&nbsp;x.rangeBand())<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">059:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"y"</span>,&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;y(d.frequency);&nbsp;})<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">060:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr(<span class="string" style="color: #050;">"height"</span>,&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">function</span>(d)&nbsp;{&nbsp;<span class="keyword" style="font-weight: bold; color: navy;">return</span>&nbsp;height&nbsp;-&nbsp;y(d.frequency);&nbsp;});<br /><span class="linenumbering" style="color: #ccc; padding-right: 0.5em;">061:</span>});</code></pre>
